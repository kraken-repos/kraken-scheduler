Java new generation app framework usage code sample. Take the claim request aggregate root as the example.

# Get Started
## Prerequisite
1. Java Version: JDK 11 or higher
1. Build Tool: Gradle 6.0 or higher
1. Database: HANA DataBase
1. MQ: Kafka

## Before Build
[hana.properties](./mock/hana.properties) and [kafka.properties](./mock/kafka.properties) are connection configurations for hana schema and kafka cluster respectively. If the system cannot find hana.properties under __/etc/secrets/hana__, it will use the configuration file under __./mock__ directory. 

Similarly, the connection configuration for kafka in the mock folder of the project will be used, if you don't have kafka.properties under __/etc/secrets/kafka__ directory.  

## Build And Run
For Gradle:
```bash
$ ./gradlew bootRun
```

# Project Structure
There are 4 sub projects in this sample. And they are organized as a typical hexagonal architecture in a DDD fashion. Then dependency hierarchy is like below. Higher layer depends on lower layer.
                
                kraken-scheduler-application
                      /                 \
                     /                   \
           kraken-scheduler-api   kraken-scheduler-consumer
                     \                   /
                      \                 /
                    kraken-scheduler-core
                    
 
 * kraken-scheduler-core: The core of the hexagon containing the most valuable parts of the project -- business logic.
 * kraken-scheduler-api: One of the ports of the hexagon responsible for rest api
 * kraken-scheduler-consumer: One of the ports of the hexagon responsible for consuming events of other services
 * kraken-scheduler-application: A simple spring boot application containing properties files and some other configurations.

# For code coverage
[JaCoCo](https://www.eclemma.org/jacoco/) is used as the tool to evaluate the code coverage for detail refer [here](https://docs.gradle.org/current/userguide/jacoco_plugin.html).

The default unit-test code coverage is set to 80%, which can be adjusted in [build.gradle](./build.gradle) file [at](./build.gradle#L45).

# For rds migration
Rds migration feature has been included in. For detail, refer [here](https://wiki.wdf.sap.corp/wiki/x/Z6iPhQ).

# For deploy the project into cluster.
By default, all these project will be deployed into __'template'__ namespace, which is used for learning how to play with the project generated by template.

When the project is used for real development, please update the [.ci.yml](./.ci.yml) file [at](./.ci.yml#L39) to move the project to expected namespace.

# For detail information about the project structure and some more 'how to', please refer below project.
[Eureka/java-ng-sample-claim-request](/../../../java-ng-sample-claim-request) 
